(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[132],{5315:(e,t,l)=>{Promise.resolve().then(l.bind(l,6063))},6063:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>T});var a=l(5155),s=l(2115);let n=s.forwardRef(function(e,t){let{title:l,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),l?s.createElement("title",{id:a},l):null,s.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))}),r=e=>[...e].sort(()=>Math.random()-.5),i=()=>.5>Math.random(),c=e=>{let t=[];if(e.length<4)throw Error("Min question item list length is 4");return e.forEach(l=>{var a;let s=r(((e,t)=>{let l=e.indexOf(t);return l>-1?[...e.slice(0,l),...e.slice(l+1)]:e})(e,l));t.push((a=s.slice(0,3),{type:"choose-answer",item:l,data:{normalFlow:i(),incorrectAnswers:a}})),t.push(((e,t)=>{let l,a=i(),s=i();l=s?a?e.translation:e.native:a?t.translation:t.native;let n=a?e.native:e.translation;return{type:"true-false",item:e,data:{hideImage:!a,questionWord:n,answer:l,isCorrect:s}}})(l,s[4])),t.push((e=>{let t=e.native,l=e.translation;return{type:"typing",item:e,data:{questionWord:t,answer:l,letters:r(l.split(""))}}})(l))}),r(t)},d=s.forwardRef(function(e,t){let{title:l,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),l?s.createElement("title",{id:a},l):null,s.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}),o=s.forwardRef(function(e,t){let{title:l,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),l?s.createElement("title",{id:a},l):null,s.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}),m=e=>{let{label:t,onClick:l,className:s}=e;return(0,a.jsx)("button",{onClick:l,className:"text-white text-lg font-semibold py-3 px-6 rounded-lg shadow-md hover:shadow-lg \n        hover:scale-105 active:scale-95 transition-transform duration-300 ease-in-out \n        animate-pulse border border-red-950 ".concat(null!=s?s:""),style:{background:"linear-gradient(135deg, #1e1e2f, #2d3a4a)"},children:t})};var x=l(4698);let u=e=>{let{className:t,children:l}=e;return(0,a.jsx)(x.Z,{className:"items-center w-full min-h-[70vh] max-h-[70vh] sm:min-h-[75vh] sm:max-h-[75vh]lg:sm:w-3/4 ".concat(null!=t?t:""),disabledHover:!0,children:l})};var h=l(3968);let f=e=>{let{hideImage:t,item:l,children:s}=e;return(0,a.jsx)(h.H,{hideImage:t,image:l.image,alt:l.native,className:"h-60 w-full sm:h-80 sm:w-150 mb-5",children:s})},w=e=>{let{text:t,className:l}=e;return(0,a.jsx)(a.Fragment,{children:t.split(/(\[.*?\])/).map((e,t)=>e.startsWith("[")&&e.endsWith("]")?(0,a.jsx)("span",{className:"font-bold ".concat(null!=l?l:""),children:e.slice(1,-1)},t):e)})},g=e=>{let{isCorrect:t,item:l,onClickNext:s}=e;return(0,a.jsxs)(u,{children:[(0,a.jsx)(f,{item:l,children:t?(0,a.jsx)(d,{className:"w-34 h-34 text-green-500 mb-4"}):(0,a.jsx)(o,{className:"w-34 h-34 text-red-500 mb-4"})}),(0,a.jsxs)("div",{className:"flex flex-grow flex-col w-full justify-around items-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center flex-wrap gap-2 mt-5",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:l.native}),(0,a.jsx)("span",{className:"text-2xl font-bold",children:"-"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:l.translation})]}),(0,a.jsx)("p",{className:"text-lg italic mb-6",children:(0,a.jsx)(w,{text:l.transcript,className:"text-3xl"})}),(0,a.jsx)(m,{label:"Next",onClick:s,className:"sm:w-150"})]})]})};var j=l(7058),p=l(1773);let b=e=>{let{question:t,onAnswer:l}=e;return(0,a.jsxs)(u,{className:"justify-between",children:[(0,a.jsx)(f,{hideImage:!t.data.normalFlow,item:t.item,children:(0,a.jsx)(p.W,{children:(0,a.jsx)("h2",{className:"text-4xl italic",children:t.data.normalFlow?t.item.native:t.item.translation})})}),(0,a.jsx)(j.T,{className:"gap-2",children:r([t.item,...t.data.incorrectAnswers]).map((e,s)=>(0,a.jsx)(x.Z,{className:"items-center",onClick:()=>{let a=t.data.normalFlow?t.item.translation:t.item.native;l((t.data.normalFlow?e.translation:e.native)===a)},children:(0,a.jsxs)("div",{className:"flex w-full justify-between items-center",children:[(0,a.jsx)("span",{className:"w-20"}),(0,a.jsx)("p",{className:"text-2xl",children:t.data.normalFlow?e.translation:e.native}),t.data.normalFlow?(0,a.jsx)("span",{className:"w-20"}):(0,a.jsx)(h.H,{image:e.image,className:"h-10 w-20 sm:h-15",alt:"option-".concat(s)})]})},e.native))})]})},v=s.forwardRef(function(e,t){let{title:l,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),l?s.createElement("title",{id:a},l):null,s.createElement("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"}))}),N=s.forwardRef(function(e,t){let{title:l,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),l?s.createElement("title",{id:a},l):null,s.createElement("path",{d:"M15.73 5.5h1.035A7.465 7.465 0 0 1 18 9.625a7.465 7.465 0 0 1-1.235 4.125h-.148c-.806 0-1.534.446-2.031 1.08a9.04 9.04 0 0 1-2.861 2.4c-.723.384-1.35.956-1.653 1.715a4.499 4.499 0 0 0-.322 1.672v.633A.75.75 0 0 1 9 22a2.25 2.25 0 0 1-2.25-2.25c0-1.152.26-2.243.723-3.218.266-.558-.107-1.282-.725-1.282H3.622c-1.026 0-1.945-.694-2.054-1.715A12.137 12.137 0 0 1 1.5 12.25c0-2.848.992-5.464 2.649-7.521C4.537 4.247 5.136 4 5.754 4H9.77a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23ZM21.669 14.023c.536-1.362.831-2.845.831-4.398 0-1.22-.182-2.398-.52-3.507-.26-.85-1.084-1.368-1.973-1.368H19.1c-.445 0-.72.498-.523.898.591 1.2.924 2.55.924 3.977a8.958 8.958 0 0 1-1.302 4.666c-.245.403.028.959.5.959h1.053c.832 0 1.612-.453 1.918-1.227Z"}))}),y=e=>{let{question:t,onAnswer:l}=e;return(0,a.jsxs)(u,{children:[(0,a.jsx)(f,{hideImage:t.data.hideImage,item:t.item,children:(0,a.jsx)("div",{className:"p-3 rounded-xl bg-[rgba(0,0,0,0.5)]",children:(0,a.jsxs)("div",{className:"flex flex-col px-4 mb-5 mt-5",children:[(0,a.jsx)("span",{className:"text-3xl italic font-semibold",children:t.data.questionWord}),(0,a.jsx)("span",{className:"mx-4 text-2xl",children:"="}),(0,a.jsx)("span",{className:"text-3xl italic font-semibold",children:t.data.answer})]})})}),(0,a.jsx)("div",{className:"flex flex-grow w-full justify-around items-center sm:w-150",children:(0,a.jsxs)("div",{className:"flex justify-around w-full mb-10 mt-10",children:[(0,a.jsx)("button",{onClick:()=>l(t.data.isCorrect),className:"flex items-center justify-center bg-green-800 text-white py-2 px-4 rounded-lg font-bold hover:bg-green-600 transition text-2xl sm:w-40 sm:h-20",children:(0,a.jsx)(v,{className:"w-15 h-15 m-2"})}),(0,a.jsx)("button",{onClick:()=>l(!t.data.isCorrect),className:"flex items-center justify-center bg-red-800 text-white py-2 px-4 rounded-lg font-bold hover:bg-red-600 transition text-2xl sm:w-40 sm:h-20",children:(0,a.jsx)(N,{className:"w-15 h-15 m-2"})})]})})]})},C=s.forwardRef(function(e,t){let{title:l,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),l?s.createElement("title",{id:a},l):null,s.createElement("path",{fillRule:"evenodd",d:"M2.515 10.674a1.875 1.875 0 0 0 0 2.652L8.89 19.7c.352.351.829.549 1.326.549H19.5a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-9.284c-.497 0-.974.198-1.326.55l-6.375 6.374ZM12.53 9.22a.75.75 0 1 0-1.06 1.06L13.19 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06l1.72-1.72 1.72 1.72a.75.75 0 1 0 1.06-1.06L15.31 12l1.72-1.72a.75.75 0 1 0-1.06-1.06l-1.72 1.72-1.72-1.72Z",clipRule:"evenodd"}))}),E=s.forwardRef(function(e,t){let{title:l,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),l?s.createElement("title",{id:a},l):null,s.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}),R=e=>{let{title:t,message:l,onConfirm:s,onCancel:n}=e;return(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-[var(--cardBg)] w-full max-w-md p-6 rounded-lg shadow-lg",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:t}),(0,a.jsx)("p",{className:"mb-6",children:l}),(0,a.jsxs)("div",{className:"flex justify-between space-x-4",children:[(0,a.jsx)(m,{label:"Cancel",onClick:n}),(0,a.jsx)(m,{label:"Confirm",onClick:s})]})]})})},S=e=>{let{question:t,onAnswer:l}=e,[n,r]=(0,s.useState)([]),[i,c]=(0,s.useState)(t.data.letters.map((e,t)=>({index:t,char:e,disabled:!1}))),d=e=>{r(t=>[...t,e]),c(t=>{let l=t.findIndex(t=>t.index===e.index),a=[...t];return a[l]={...a[l],disabled:!0},a})},m=e=>{if(n.length-e>=0){let t=[...i];for(let l=0;l<e;l+=1){let e=n[n.length-l-1],a=t.findIndex(t=>t.index===e.index);t[a]={...t[a],disabled:!1}}r(t=>t.slice(0,-1*e)),c(t)}};return(0,s.useEffect)(()=>{n.length===t.data.answer.length&&l(n.map(e=>e.char).join("")===t.data.answer)},[n,l,t.data.answer]),(0,a.jsxs)(u,{className:"justify-around",children:[(0,a.jsx)("h2",{className:"text-3xl italic font-bold mb-4 mt-5",children:t.data.questionWord}),(0,a.jsx)("div",{className:"text-3xl font-semibold text-blue-500 mb-8",children:n.length>0?n.map(e=>e.char):i.map(e=>"-").join(" ")}),(0,a.jsxs)("div",{className:"grid grid-cols-4 sm:grid-cols-6 lg:grid-cols-8 gap-2 mb-8 sm:gap-6",children:[i.map((e,t)=>(0,a.jsx)(x.Z,{disabled:e.disabled,className:"flex items-center text-2xl w-20 h-20 sm:text-4xl",onClick:()=>d(e),children:(0,a.jsx)("span",{className:"cursor-default",style:{userSelect:"none"},children:e.char})},"".concat(e.char,"-").concat(t))),(0,a.jsx)(x.Z,{onClick:()=>m(1),className:"items-center w-20 h-20",children:(0,a.jsx)(C,{className:"w-8 h-8"})}),(0,a.jsx)(k,{title:"Fail question",message:"Are you sure you want to perform this action?",onPress:()=>l(!1),icon:(0,a.jsx)(o,{}),iconStyles:"text-red-500"}),(0,a.jsx)(k,{title:"Help with question",message:"Are you sure you want to perform this action?",onPress:()=>{if(n.length>0){let e=n.findIndex((e,l)=>t.data.answer[l]!==e.char);if(e>=0)return void m(n.length-e)}let e=t.data.answer[n.length],l=i.find(t=>!t.disabled&&t.char===e);l&&d(l)},icon:(0,a.jsx)(E,{}),iconStyles:"text-blue-300"})]})]})},k=e=>{let{title:t,message:l,onPress:n,icon:r,iconStyles:i,cardStyles:c}=e,[d,o]=(0,s.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{onClick:()=>{o(!0)},className:"items-center w-20 h-20 ".concat(null!=c?c:""),children:(0,a.jsx)("span",{className:"w-8 h-8 ".concat(null!=i?i:""),children:r})}),d&&(0,a.jsx)(R,{title:t,message:l,onConfirm:()=>{n(),o(!1)},onCancel:()=>{o(!1)}})]})},A=e=>{let{progress:t}=e;return(0,a.jsx)("div",{className:"w-full bg-gray-500 rounded-lg h-3 mb-5",children:(0,a.jsx)("div",{className:"bg-green-800 h-3 rounded-lg transition-all duration-700",style:{width:"".concat(t,"%")}})})},Z=e=>{let{items:t}=e;return(0,a.jsx)(j.c,{children:t.map(e=>(0,a.jsx)(x.Z,{children:(0,a.jsx)(h.H,{image:e.image,alt:e.native,className:"w-full h-60",children:(0,a.jsxs)(p.W,{children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:e.native}),(0,a.jsx)("p",{className:"text-sm",children:e.translation}),(0,a.jsx)(w,{text:e.transcript,className:"text-xl"})]})})},e.native))})},M=e=>{let{mistakes:t,onRestart:l}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Game Completed!"}),(0,a.jsxs)("p",{className:"text-lg mb-6",children:["You made ",(0,a.jsx)("span",{className:"font-semibold",children:t})," mistakes."]}),(0,a.jsx)(m,{label:"Restart",onClick:l})]})},q={questions:[],activeIndex:0,gameState:"ShowGame",answerResult:null,mistakesCount:0},I=(e,t)=>{switch(t.type){case"START_GAME":return{...q,questions:t.payload};case"ANSWER":{let l=t.payload,a=e.questions;return l||(a=[...e.questions,e.questions[e.activeIndex]]),{...e,answerResult:l,gameState:"ShowAnswerResult",mistakesCount:e.mistakesCount+ +!l,questions:a}}case"NEXT_QUESTION":if(e.activeIndex+1===e.questions.length)return{...e,gameState:"GameCompleted"};return{...e,activeIndex:e.activeIndex+1,gameState:"ShowGame"};default:return e}},F=e=>{let{label:t,onClick:l,className:s}=e;return(0,a.jsx)("button",{onClick:l,className:"flex items-center justify-center text-white text-lg font-semibold p-3 rounded-full shadow-md hover:shadow-lg \n        hover:scale-105 active:scale-95 transition-transform duration-300 ease-in-out \n        animate-pulse border border-red-950 ".concat(null!=s?s:""),style:{background:"linear-gradient(135deg, #1e1e2f, #2d3a4a)"},children:t})};var H=l(5695),O=l(4370);function T(){let e=(0,H.useSearchParams)().get("id"),t=O.A.find(t=>t.id===e);return t?(0,a.jsx)(_,{game:t}):null}let _=e=>{let{game:t}=e,[l,r]=(0,s.useState)(!1);return l?(0,a.jsx)(G,{items:t.items}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"text-4xl pb-5",children:t.name}),(0,a.jsx)(Z,{items:t.items}),(0,a.jsx)(F,{label:(0,a.jsx)(n,{className:"w-10 h-10"}),onClick:()=>{r(!0)},className:"fixed bottom-10 right-6 sm:bottom-10 sm:right-15 z-50"})]})},G=e=>{let{items:t}=e,[l,n]=(0,s.useReducer)(I,q),{questions:r,activeIndex:i,gameState:d,answerResult:o,mistakesCount:m}=l;if((0,s.useEffect)(()=>{n({type:"START_GAME",payload:c(t)})},[t,n]),0===r.length)return null;if("GameCompleted"===d)return(0,a.jsx)(M,{mistakes:m,onRestart:()=>n({type:"START_GAME",payload:c(t)})});let x=r[i],u=(i+1)/r.length*100;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A,{progress:u}),"ShowGame"===d&&((e,t)=>{switch(e.type){case"choose-answer":return(0,a.jsx)(b,{question:e,onAnswer:t});case"true-false":return(0,a.jsx)(y,{question:e,onAnswer:t});case"typing":return(0,a.jsx)(S,{question:e,onAnswer:t});default:return null}})(x,e=>n({type:"ANSWER",payload:e})),"ShowAnswerResult"===d&&(0,a.jsx)(g,{isCorrect:!!o,item:x.item,onClickNext:()=>n({type:"NEXT_QUESTION"})})]})}}},e=>{e.O(0,[212,849,441,964,358],()=>e(e.s=5315)),_N_E=e.O()}]);