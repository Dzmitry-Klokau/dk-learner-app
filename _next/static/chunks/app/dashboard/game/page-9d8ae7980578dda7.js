(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[132],{2910:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>H});var l=a(5155),s=a(2115);let n=s.forwardRef(function(e,t){let{title:a,titleId:l,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),a?s.createElement("title",{id:l},a):null,s.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))}),r=e=>[...e].sort(()=>Math.random()-.5),i=()=>.5>Math.random(),c=e=>{let t=[];if(e.length<4)throw Error("Min question item list length is 4");return e.forEach(a=>{var l;let s=r(((e,t)=>{let a=e.indexOf(t);return a>-1?[...e.slice(0,a),...e.slice(a+1)]:e})(e,a));t.push((l=s.slice(0,3),{type:"choose-answer",item:a,data:{normalFlow:i(),incorrectAnswers:l}})),t.push(((e,t)=>{let a,l=i(),s=i();a=s?l?e.translation:e.native:l?t.translation:t.native;let n=l?e.native:e.translation;return{type:"true-false",item:e,data:{hideImage:!l,questionWord:n,answer:a,isCorrect:s}}})(a,s[4])),t.push((e=>{let t=e.native,a=e.translation;return{type:"typing",item:e,data:{questionWord:t,answer:a,letters:r(a.split(""))}}})(a))}),r(t)},d=s.forwardRef(function(e,t){let{title:a,titleId:l,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),a?s.createElement("title",{id:l},a):null,s.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}),o=s.forwardRef(function(e,t){let{title:a,titleId:l,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),a?s.createElement("title",{id:l},a):null,s.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}),m=e=>{let{label:t,onClick:a,className:s}=e;return(0,l.jsx)("button",{onClick:a,className:"text-white text-lg font-semibold py-3 px-6 rounded-lg shadow-md hover:shadow-lg \n        hover:scale-105 active:scale-95 transition-transform duration-300 ease-in-out \n        animate-pulse border border-red-950 ".concat(null!=s?s:""),style:{background:"linear-gradient(135deg, #1e1e2f, #2d3a4a)"},children:t})};var x=a(4698);let h=e=>{let{className:t,children:a}=e;return(0,l.jsx)(x.Z,{className:"items-center w-full min-h-[70vh] max-h-[70vh] sm:min-h-[75vh] sm:max-h-[75vh]lg:sm:w-3/4 ".concat(null!=t?t:""),disabledHover:!0,children:a})};var u=a(3968);let f=e=>{let{hideImage:t,item:a,children:s}=e;return(0,l.jsx)(u.H,{hideImage:t,image:a.image,alt:a.native,className:"h-60 w-full sm:h-80 sm:w-150 mb-5",children:s})},w=e=>{let{text:t,className:a}=e;return(0,l.jsx)(l.Fragment,{children:t.split(/(\[.*?\])/).map((e,t)=>e.startsWith("[")&&e.endsWith("]")?(0,l.jsx)("span",{className:"font-bold ".concat(null!=a?a:""),children:e.slice(1,-1)},t):e)})},g=e=>{let{isCorrect:t,item:a,onClickNext:s}=e;return(0,l.jsxs)(h,{children:[(0,l.jsx)(f,{item:a,children:t?(0,l.jsx)(d,{className:"w-34 h-34 text-green-500 mb-4"}):(0,l.jsx)(o,{className:"w-34 h-34 text-red-500 mb-4"})}),(0,l.jsxs)("div",{className:"flex flex-grow flex-col w-full justify-around items-center",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center flex-wrap gap-2 mt-5",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold",children:a.native}),(0,l.jsx)("span",{className:"text-2xl font-bold",children:"-"}),(0,l.jsx)("p",{className:"text-2xl font-bold",children:a.translation})]}),(0,l.jsx)("p",{className:"text-lg italic mb-6",children:(0,l.jsx)(w,{text:a.transcript,className:"text-3xl"})}),(0,l.jsx)(m,{label:"Next",onClick:s,className:"sm:w-150"})]})]})};var j=a(7058),p=a(1773);let b=e=>{let{question:t,onAnswer:a}=e;return(0,l.jsxs)(h,{className:"justify-between",children:[(0,l.jsx)(f,{hideImage:!t.data.normalFlow,item:t.item,children:(0,l.jsx)(p.W,{children:(0,l.jsx)("h2",{className:"text-4xl italic",children:t.data.normalFlow?t.item.native:t.item.translation})})}),(0,l.jsx)(j.T,{className:"gap-2",children:r([t.item,...t.data.incorrectAnswers]).map((e,s)=>(0,l.jsx)(x.Z,{className:"items-center",onClick:()=>{let l=t.data.normalFlow?t.item.translation:t.item.native;a((t.data.normalFlow?e.translation:e.native)===l)},children:(0,l.jsxs)("div",{className:"flex w-full justify-between items-center",children:[(0,l.jsx)("span",{className:"w-20"}),(0,l.jsx)("p",{className:"text-2xl",children:t.data.normalFlow?e.translation:e.native}),t.data.normalFlow?(0,l.jsx)("span",{className:"w-20"}):(0,l.jsx)(u.H,{image:e.image,className:"h-10 w-20 sm:h-15",alt:"option-".concat(s)})]})},e.native))})]})},v=s.forwardRef(function(e,t){let{title:a,titleId:l,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),a?s.createElement("title",{id:l},a):null,s.createElement("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"}))}),N=s.forwardRef(function(e,t){let{title:a,titleId:l,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),a?s.createElement("title",{id:l},a):null,s.createElement("path",{d:"M15.73 5.5h1.035A7.465 7.465 0 0 1 18 9.625a7.465 7.465 0 0 1-1.235 4.125h-.148c-.806 0-1.534.446-2.031 1.08a9.04 9.04 0 0 1-2.861 2.4c-.723.384-1.35.956-1.653 1.715a4.499 4.499 0 0 0-.322 1.672v.633A.75.75 0 0 1 9 22a2.25 2.25 0 0 1-2.25-2.25c0-1.152.26-2.243.723-3.218.266-.558-.107-1.282-.725-1.282H3.622c-1.026 0-1.945-.694-2.054-1.715A12.137 12.137 0 0 1 1.5 12.25c0-2.848.992-5.464 2.649-7.521C4.537 4.247 5.136 4 5.754 4H9.77a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23ZM21.669 14.023c.536-1.362.831-2.845.831-4.398 0-1.22-.182-2.398-.52-3.507-.26-.85-1.084-1.368-1.973-1.368H19.1c-.445 0-.72.498-.523.898.591 1.2.924 2.55.924 3.977a8.958 8.958 0 0 1-1.302 4.666c-.245.403.028.959.5.959h1.053c.832 0 1.612-.453 1.918-1.227Z"}))}),y=e=>{let{question:t,onAnswer:a}=e;return(0,l.jsxs)(h,{children:[(0,l.jsx)(f,{hideImage:t.data.hideImage,item:t.item,children:(0,l.jsx)("div",{className:"p-3 rounded-xl bg-[rgba(0,0,0,0.5)]",children:(0,l.jsxs)("div",{className:"flex flex-col px-4 mb-5 mt-5",children:[(0,l.jsx)("span",{className:"text-3xl italic font-semibold",children:t.data.questionWord}),(0,l.jsx)("span",{className:"mx-4 text-2xl",children:"="}),(0,l.jsx)("span",{className:"text-3xl italic font-semibold",children:t.data.answer})]})})}),(0,l.jsx)("div",{className:"flex flex-grow w-full justify-around items-center sm:w-150",children:(0,l.jsxs)("div",{className:"flex justify-around w-full mb-10 mt-10",children:[(0,l.jsx)("button",{onClick:()=>a(t.data.isCorrect),className:"flex items-center justify-center bg-green-800 text-white py-2 px-4 rounded-lg font-bold hover:bg-green-600 transition text-2xl sm:w-40 sm:h-20",children:(0,l.jsx)(v,{className:"w-15 h-15 m-2"})}),(0,l.jsx)("button",{onClick:()=>a(!t.data.isCorrect),className:"flex items-center justify-center bg-red-800 text-white py-2 px-4 rounded-lg font-bold hover:bg-red-600 transition text-2xl sm:w-40 sm:h-20",children:(0,l.jsx)(N,{className:"w-15 h-15 m-2"})})]})})]})},E=s.forwardRef(function(e,t){let{title:a,titleId:l,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),a?s.createElement("title",{id:l},a):null,s.createElement("path",{fillRule:"evenodd",d:"M2.515 10.674a1.875 1.875 0 0 0 0 2.652L8.89 19.7c.352.351.829.549 1.326.549H19.5a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-9.284c-.497 0-.974.198-1.326.55l-6.375 6.374ZM12.53 9.22a.75.75 0 1 0-1.06 1.06L13.19 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06l1.72-1.72 1.72 1.72a.75.75 0 1 0 1.06-1.06L15.31 12l1.72-1.72a.75.75 0 1 0-1.06-1.06l-1.72 1.72-1.72-1.72Z",clipRule:"evenodd"}))}),C=s.forwardRef(function(e,t){let{title:a,titleId:l,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},n),a?s.createElement("title",{id:l},a):null,s.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}),R=e=>{let{question:t,onAnswer:a}=e,[n,r]=(0,s.useState)([]),[i,c]=(0,s.useState)(t.data.letters.map((e,t)=>({index:t,char:e,disabled:!1})));return(0,s.useEffect)(()=>{n.length===t.data.answer.length&&a(n.map(e=>e.char).join("")===t.data.answer)},[n,a,t.data.answer]),(0,l.jsxs)(h,{className:"justify-around",children:[(0,l.jsx)("h2",{className:"text-3xl italic font-bold mb-4 mt-5",children:t.data.questionWord}),(0,l.jsx)("div",{className:"text-3xl font-semibold text-blue-500 mb-8",children:n.length>0?n.map(e=>e.char):i.map(e=>"-").join(" ")}),(0,l.jsxs)("div",{className:"grid grid-cols-4 sm:grid-cols-6 lg:grid-cols-8 gap-2 mb-8 sm:gap-6",children:[i.map((e,t)=>(0,l.jsx)(x.Z,{disabled:e.disabled,className:"flex items-center text-2xl w-20 h-20 sm:text-4xl",onClick:()=>(e=>{r(t=>[...t,e]),c(t=>{let a=t.findIndex(t=>t.index===e.index),l=[...t];return l[a]={...l[a],disabled:!0},l})})(e),children:(0,l.jsx)("span",{className:"cursor-default",style:{userSelect:"none"},children:e.char})},"".concat(e.char,"-").concat(t))),(0,l.jsx)(x.Z,{onClick:()=>{if(n.length>0){let e=n[n.length-1];r(e=>e.slice(0,-1)),c(t=>{let a=t.findIndex(t=>t.index===e.index);console.log(a);let l=[...t];return l[a]={...l[a],disabled:!1},l})}},className:"items-center w-20 h-20",children:(0,l.jsx)(E,{className:"w-8 h-8"})}),(0,l.jsx)(x.E,{onClick:()=>a(!1),className:"items-center w-20 h-20",children:(0,l.jsx)(o,{className:"w-8 h-8 text-red-500"})}),(0,l.jsx)(x.E,{onClick:()=>{n.length>0&&n.findIndex((e,a)=>t.data.answer[a]!==e.char)},className:"items-center w-20 h-20",children:(0,l.jsx)(C,{className:"w-8 h-8 text-blue-300"})})]})]})},k=e=>{let{progress:t}=e;return(0,l.jsx)("div",{className:"w-full bg-gray-500 rounded-lg h-3 mb-5",children:(0,l.jsx)("div",{className:"bg-green-800 h-3 rounded-lg transition-all duration-700",style:{width:"".concat(t,"%")}})})},S=e=>{let{items:t}=e;return(0,l.jsx)(j.c,{children:t.map(e=>(0,l.jsx)(x.Z,{children:(0,l.jsx)(u.H,{image:e.image,alt:e.native,className:"w-full h-60",children:(0,l.jsxs)(p.W,{children:[(0,l.jsx)("h2",{className:"text-xl font-bold",children:e.native}),(0,l.jsx)("p",{className:"text-sm",children:e.translation}),(0,l.jsx)(w,{text:e.transcript,className:"text-xl"})]})})},e.native))})},A=e=>{let{mistakes:t,onRestart:a}=e;return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Game Completed!"}),(0,l.jsxs)("p",{className:"text-lg mb-6",children:["You made ",(0,l.jsx)("span",{className:"font-semibold",children:t})," mistakes."]}),(0,l.jsx)(m,{label:"Restart",onClick:a})]})},Z={questions:[],activeIndex:0,gameState:"ShowGame",answerResult:null,mistakesCount:0},M=(e,t)=>{switch(t.type){case"START_GAME":return{...Z,questions:t.payload};case"ANSWER":{let a=t.payload,l=e.questions;return a||(l=[...e.questions,e.questions[e.activeIndex]]),{...e,answerResult:a,gameState:"ShowAnswerResult",mistakesCount:e.mistakesCount+ +!a,questions:l}}case"NEXT_QUESTION":if(e.activeIndex+1===e.questions.length)return{...e,gameState:"GameCompleted"};return{...e,activeIndex:e.activeIndex+1,gameState:"ShowGame"};default:return e}},I=e=>{let{label:t,onClick:a,className:s}=e;return(0,l.jsx)("button",{onClick:a,className:"flex items-center justify-center text-white text-lg font-semibold p-3 rounded-full shadow-md hover:shadow-lg \n        hover:scale-105 active:scale-95 transition-transform duration-300 ease-in-out \n        animate-pulse border border-red-950 ".concat(null!=s?s:""),style:{background:"linear-gradient(135deg, #1e1e2f, #2d3a4a)"},children:t})};var q=a(5695),O=a(7995);function H(){let e=(0,q.useSearchParams)().get("id"),t=O.A.find(t=>t.id===e);return t?(0,l.jsx)(T,{game:t}):null}let T=e=>{let{game:t}=e,[a,r]=(0,s.useState)(!1);return a?(0,l.jsx)(_,{items:t.items}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{className:"text-4xl pb-5",children:t.name}),(0,l.jsx)(S,{items:t.items}),(0,l.jsx)(I,{label:(0,l.jsx)(n,{className:"w-10 h-10"}),onClick:()=>{r(!0)},className:"fixed bottom-10 right-6 sm:bottom-10 sm:right-15 z-50"})]})},_=e=>{let{items:t}=e,[a,n]=(0,s.useReducer)(M,Z),{questions:r,activeIndex:i,gameState:d,answerResult:o,mistakesCount:m}=a;if((0,s.useEffect)(()=>{n({type:"START_GAME",payload:c(t)})},[t,n]),0===r.length)return null;if("GameCompleted"===d)return(0,l.jsx)(A,{mistakes:m,onRestart:()=>n({type:"START_GAME",payload:c(t)})});let x=r[i],h=(i+1)/r.length*100;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(k,{progress:h}),"ShowGame"===d&&((e,t)=>{switch(e.type){case"choose-answer":return(0,l.jsx)(b,{question:e,onAnswer:t});case"true-false":return(0,l.jsx)(y,{question:e,onAnswer:t});case"typing":return(0,l.jsx)(R,{question:e,onAnswer:t});default:return null}})(x,e=>n({type:"ANSWER",payload:e})),"ShowAnswerResult"===d&&(0,l.jsx)(g,{isCorrect:!!o,item:x.item,onClickNext:()=>n({type:"NEXT_QUESTION"})})]})}},5315:(e,t,a)=>{Promise.resolve().then(a.bind(a,2910))}},e=>{e.O(0,[212,644,441,964,358],()=>e(e.s=5315)),_N_E=e.O()}]);